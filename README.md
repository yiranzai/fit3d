<div align="center">
  <img src="logo-small.svg" alt="Fit3D Logo" width="64" height="64">
  <h1>Fit3D å¤šæ ·åŒ–å¼€æºåœ°å›¾æ ·å¼ç³»ç»Ÿ</h1>
  <p><strong>Fit3D Diverse Open Source Map Styles System</strong></p>
</div>

## é¡¹ç›®æ¦‚è¿° / Project Overview

Fit3Då¤šæ ·åŒ–å¼€æºåœ°å›¾æ ·å¼ç³»ç»Ÿæ˜¯ä¸€ä¸ªä¸“ä¸ºæˆ·å¤–è¿åŠ¨æ•°æ®å¯è§†åŒ–è®¾è®¡çš„è·¨å¹³å°åœ°å›¾è§£å†³æ–¹æ¡ˆã€‚ç³»ç»Ÿæ”¯æŒå¤šç§å¼€æºåœ°å›¾æä¾›å•†å’Œæ ·å¼ï¼Œæä¾›æœ¬åœ°æ•°æ®å­˜å‚¨ã€é«˜æ•ˆçš„ç“¦ç‰‡ç¼“å­˜ã€ä»¥åŠå®Œæ•´çš„ä¸­å›½æœ¬åœ°åŒ–æ”¯æŒã€‚

Fit3D Diverse Open Source Map Styles System is a cross-platform map solution designed for outdoor sports data visualization. The system supports multiple open source map providers and styles, provides local data storage, efficient tile caching, and complete Chinese localization support.

## æ ¸å¿ƒç‰¹æ€§ / Core Features

### ğŸ—ºï¸ å¤šæ ·åŒ–åœ°å›¾æä¾›å•† / Diverse Map Providers
- **OpenStreetMap**: å®Œå…¨å¼€æºï¼Œå…¨çƒè¦†ç›–
- **CartoDB**: ç¾è§‚çš„è®¾è®¡ï¼Œå¤šç§é…è‰²æ–¹æ¡ˆ  
- **Stamen Design**: åˆ›æ„è‰ºæœ¯åŒ–æ ·å¼
- **Esri Open Data**: é«˜è´¨é‡å«æ˜Ÿå›¾åƒå’Œåœ°å½¢å›¾
- **OpenTopoMap**: è¯¦ç»†åœ°å½¢å›¾ï¼Œé€‚åˆæˆ·å¤–æ´»åŠ¨
- **é«˜å¾·åœ°å›¾**: ä¸­å›½åœ°åŒºè¯¦ç»†æ•°æ®
- **ç™¾åº¦åœ°å›¾**: ä¸­å›½åœ°åŒºå…¨é¢è¦†ç›–

### ğŸ¨ ä¸°å¯Œçš„åœ°å›¾æ ·å¼ / Rich Map Styles
- **åœ°å½¢å›¾**: é€‚åˆå¾’æ­¥å’Œç™»å±±æ´»åŠ¨
- **å«æ˜Ÿå›¾**: çœŸå®åœ°ç†ç¯å¢ƒå±•ç¤º
- **è¡—é“å›¾**: é€‚åˆéª‘è¡Œå’Œè·‘æ­¥æ´»åŠ¨
- **åœ°å½¢å›¾**: è¯¦ç»†ç­‰é«˜çº¿ä¿¡æ¯
- **æ··åˆå›¾**: ç»“åˆå¤šç§æ•°æ®æº
- **è‡ªå®šä¹‰æ ·å¼**: ç”¨æˆ·å¯åˆ›å»ºä¸ªæ€§åŒ–æ ·å¼

### ğŸ’¾ æœ¬åœ°æ•°æ®å­˜å‚¨ / Local Data Storage
- **SQLite**: ä¸»è¦æ•°æ®å­˜å‚¨ï¼ŒåŒ…æ‹¬åœ°å›¾é…ç½®ã€ç”¨æˆ·åå¥½ã€ç“¦ç‰‡ç¼“å­˜
- **DuckDB**: åˆ†ææ•°æ®åº“ï¼Œç”¨äºæ€§èƒ½ç»Ÿè®¡å’Œæ•°æ®åˆ†æ
- **æ··åˆç¼“å­˜ç­–ç•¥**: å†…å­˜+ç£ç›˜ç¼“å­˜ï¼Œä¼˜åŒ–è®¿é—®æ€§èƒ½
- **æ•°æ®åŒæ­¥**: è‡ªåŠ¨åŒæ­¥SQLiteå’ŒDuckDBæ•°æ®

### ğŸš€ é«˜æ€§èƒ½ç¼“å­˜ç³»ç»Ÿ / High-Performance Cache System
- **æ™ºèƒ½é¢„åŠ è½½**: é¢„åŠ è½½è§†å£å‘¨å›´çš„ç“¦ç‰‡
- **å¹¶è¡Œä¸‹è½½**: æ”¯æŒå¹¶å‘ç“¦ç‰‡ä¸‹è½½
- **å‹ç¼©å­˜å‚¨**: å‡å°‘å­˜å‚¨ç©ºé—´å ç”¨
- **è‡ªåŠ¨æ¸…ç†**: æ¸…ç†è¿‡æœŸå’Œæœ€å°‘ä½¿ç”¨çš„ç¼“å­˜
- **æ€§èƒ½ç›‘æ§**: å®æ—¶ç¼“å­˜å‘½ä¸­ç‡å’Œæ€§èƒ½ç»Ÿè®¡

### ğŸŒ å®Œæ•´ä¸­å›½æœ¬åœ°åŒ– / Complete Chinese Localization
- **ä¸­æ–‡ç•Œé¢**: å®Œæ•´çš„ä¸­æ–‡ç”¨æˆ·ç•Œé¢
- **ä¸­å›½åœ°å›¾æä¾›å•†**: é›†æˆé«˜å¾·åœ°å›¾ã€ç™¾åº¦åœ°å›¾ã€å¤©åœ°å›¾
- **ä¸­æ–‡æ ‡ç­¾**: æ”¯æŒä¸­æ–‡åœ°å›¾æ ‡ç­¾æ˜¾ç¤º
- **æœ¬åœ°åŒ–æ ¼å¼**: ä¸­æ–‡æ—¥æœŸã€æ—¶é—´ã€æ•°å­—æ ¼å¼
- **ä¸­æ–‡æ–‡æ¡£**: å®Œæ•´çš„ä¸­æ–‡æ–‡æ¡£å’Œå¸®åŠ©ç³»ç»Ÿ

## æŠ€æœ¯æ¶æ„ / Technical Architecture

### æ ¸å¿ƒç»„ä»¶ / Core Components
- **åœ°å›¾æä¾›å•†ç®¡ç†å™¨**: ç®¡ç†å¤šä¸ªå¼€æºåœ°å›¾æä¾›å•†å’Œé…ç½®
- **æ ·å¼å¼•æ“**: å¤„ç†ä¸åŒåœ°å›¾æ ·å¼çš„æ¸²æŸ“å’Œåˆ‡æ¢
- **ç“¦ç‰‡ç¼“å­˜ç³»ç»Ÿ**: ä¼˜åŒ–åœ°å›¾ç“¦ç‰‡åŠ è½½å’Œç¼“å­˜ç­–ç•¥
- **å¯è§†åŒ–å¼•æ“**: åœ°å›¾æ¸²æŸ“å’Œäº¤äº’åŠŸèƒ½
- **CLIæ¥å£**: å‘½ä»¤è¡Œå·¥å…·ï¼Œæ”¯æŒæ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½

### æŠ€æœ¯æ ˆ / Technology Stack
- **å‰ç«¯**: React/TypeScript, Leaflet, Mapbox GL JS, Three.js
- **åç«¯**: Node.js, TypeScript, Express.js
- **æ•°æ®åº“**: SQLite, DuckDB
- **ç¼“å­˜**: æ··åˆç¼“å­˜ç­–ç•¥ (å†…å­˜ + ç£ç›˜)
- **CLI**: Commander.js
- **æµ‹è¯•**: Jest, Cypress, Playwright

## å¿«é€Ÿå¼€å§‹ / Quick Start

### å®‰è£… / Installation

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/yiranzai/fit3d.git
cd fit3d

# å®‰è£…ä¾èµ–
npm install

# æ„å»ºé¡¹ç›®
npm run build
```

### åˆå§‹åŒ–ç³»ç»Ÿ / Initialize System

```bash
# ä½¿ç”¨é»˜è®¤è®¾ç½®åˆå§‹åŒ–
npm run cli init

# æˆ–æŒ‡å®šè‡ªå®šä¹‰æ•°æ®ç›®å½•
npm run cli init --data-dir ~/my-map-data
```

### åŸºæœ¬ä½¿ç”¨ / Basic Usage

```bash
# æŸ¥çœ‹å¯ç”¨çš„åœ°å›¾æä¾›å•†
npm run cli map-providers list

# æŸ¥çœ‹å¯ç”¨çš„åœ°å›¾æ ·å¼
npm run cli map-styles list

# åˆ‡æ¢åœ°å›¾æ ·å¼
npm run cli map-styles use osm-standard

# æŸ¥çœ‹ç¼“å­˜ç»Ÿè®¡
npm run cli cache stats

# ç”Ÿæˆæ´»åŠ¨åœ°å›¾
npm run cli map generate activity-123 --style opentopomap
```

## é¡¹ç›®ç»“æ„ / Project Structure

```
fit3d/
â”œâ”€â”€ src/                          # æºä»£ç 
â”‚   â”œâ”€â”€ types/                    # ç±»å‹å®šä¹‰
â”‚   â”œâ”€â”€ core/                     # æ ¸å¿ƒåŠŸèƒ½
â”‚   â”‚   â””â”€â”€ database/             # æ•°æ®åº“å®ç°
â”‚   â”œâ”€â”€ providers/                # åœ°å›¾æä¾›å•†ç®¡ç†
â”‚   â”œâ”€â”€ styles/                   # åœ°å›¾æ ·å¼å¼•æ“
â”‚   â”œâ”€â”€ cache/                    # ç“¦ç‰‡ç¼“å­˜ç³»ç»Ÿ
â”‚   â”œâ”€â”€ visualization/            # åœ°å›¾å¯è§†åŒ–å¼•æ“
â”‚   â”œâ”€â”€ cli/                      # å‘½ä»¤è¡Œæ¥å£
â”‚   â”œâ”€â”€ web/                      # Webç•Œé¢ (v2.0)
â”‚   â”œâ”€â”€ mobile/                   # ç§»åŠ¨åº”ç”¨ (v2.0)
â”‚   â””â”€â”€ shared/                   # å…±äº«å·¥å…·
â”œâ”€â”€ tests/                        # æµ‹è¯•æ–‡ä»¶
â”œâ”€â”€ docs/                         # æ–‡æ¡£
â”œâ”€â”€ scripts/                      # æ„å»ºå’Œéƒ¨ç½²è„šæœ¬
â””â”€â”€ specs/                        # é¡¹ç›®è§„èŒƒæ–‡æ¡£
```

## å¼€å‘æŒ‡å— / Development Guide

### å¼€å‘ç¯å¢ƒè®¾ç½® / Development Setup

```bash
# å®‰è£…å¼€å‘ä¾èµ–
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev

# è¿è¡Œæµ‹è¯•
npm test

# ä»£ç æ£€æŸ¥
npm run lint

# æ ¼å¼åŒ–ä»£ç 
npm run format
```

### æ·»åŠ æ–°çš„åœ°å›¾æä¾›å•† / Adding New Map Providers

1. åœ¨ `src/providers/map-provider-manager.ts` ä¸­æ·»åŠ æä¾›å•†é…ç½®
2. åœ¨æ•°æ®åº“åˆå§‹åŒ–è„šæœ¬ä¸­æ·»åŠ æä¾›å•†æ•°æ®
3. å®ç°æä¾›å•†çš„ç“¦ç‰‡URLæ¨¡æ¿å’Œé…ç½®
4. æ·»åŠ ç›¸åº”çš„æµ‹è¯•ç”¨ä¾‹

### åˆ›å»ºè‡ªå®šä¹‰åœ°å›¾æ ·å¼ / Creating Custom Map Styles

1. ä½¿ç”¨CLIå‘½ä»¤åˆ›å»ºåŸºç¡€æ ·å¼
2. é€šè¿‡æ ·å¼ç¼–è¾‘å™¨ä¿®æ”¹é¢œè‰²ã€å›¾å±‚ç­‰å±æ€§
3. é¢„è§ˆæ ·å¼æ•ˆæœ
4. ä¿å­˜å¹¶åº”ç”¨åˆ°æ´»åŠ¨

## APIæ–‡æ¡£ / API Documentation

### åœ°å›¾æä¾›å•†ç®¡ç† / Map Provider Management

```typescript
// è·å–æ‰€æœ‰å¯ç”¨çš„åœ°å›¾æä¾›å•†
const providers = await providerManager.getAvailableProviders();

// è·å–ç‰¹å®šæä¾›å•†
const provider = await providerManager.getProvider('osm');

// åˆ‡æ¢æä¾›å•†
await providerManager.switchProvider('cartodb');

// æµ‹è¯•æä¾›å•†è¿æ¥
const isHealthy = await providerManager.testProviderConnection('osm');
```

### åœ°å›¾æ ·å¼ç®¡ç† / Map Style Management

```typescript
// è·å–æ‰€æœ‰å¯ç”¨çš„åœ°å›¾æ ·å¼
const styles = await styleEngine.getAvailableStyles();

// æŒ‰ç±»å‹è·å–æ ·å¼
const terrainStyles = await styleEngine.getStylesByType('terrain');

// æŒ‰æ´»åŠ¨ç±»å‹è·å–æ¨èæ ·å¼
const hikingStyles = await styleEngine.getRecommendedStyles('hiking');

// åˆ›å»ºè‡ªå®šä¹‰æ ·å¼
const customStyle = await styleEngine.createCustomStyle({
  name: 'My Custom Style',
  nameZh: 'æˆ‘çš„è‡ªå®šä¹‰æ ·å¼',
  baseStyleId: 'osm-standard',
  modifications: [
    {
      type: 'color',
      target: 'water',
      value: '#0066cc'
    }
  ],
  suitableActivities: ['hiking', 'cycling']
});
```

### ç“¦ç‰‡ç¼“å­˜ç®¡ç† / Tile Cache Management

```typescript
// è·å–ç“¦ç‰‡
const tile = await cacheSystem.getTile({
  providerId: 'osm',
  styleId: 'osm-standard',
  z: 10,
  x: 512,
  y: 384
});

// å­˜å‚¨ç“¦ç‰‡
await cacheSystem.setTile(request, tileData, 'image/png');

// é¢„åŠ è½½åŒºåŸŸç“¦ç‰‡
await cacheSystem.preloadRegion('osm', 'osm-standard', bounds, [10, 11, 12]);

// è·å–ç¼“å­˜ç»Ÿè®¡
const stats = await cacheSystem.getCacheStats();
```

## æ€§èƒ½æŒ‡æ ‡ / Performance Metrics

### ç¼“å­˜æ€§èƒ½ / Cache Performance
- **ç¼“å­˜å‘½ä¸­ç‡**: > 80%
- **å†…å­˜ä½¿ç”¨é‡**: < 100MB
- **ç“¦ç‰‡åŠ è½½æ—¶é—´**: < 200ms
- **æ ·å¼åˆ‡æ¢æ—¶é—´**: < 200ms

### æ•°æ®åº“æ€§èƒ½ / Database Performance
- **æŸ¥è¯¢å“åº”æ—¶é—´**: < 50ms
- **æ•°æ®åŒæ­¥æ—¶é—´**: < 1s
- **å­˜å‚¨ç©ºé—´**: å¯é…ç½®ï¼Œé»˜è®¤1GB

### ç³»ç»Ÿæ€§èƒ½ / System Performance
- **é¡µé¢åŠ è½½æ—¶é—´**: < 2s
- **APIå“åº”æ—¶é—´**: < 200ms
- **å¹¶å‘è¯·æ±‚**: æ”¯æŒ1000+å¹¶å‘

## è´¡çŒ®æŒ‡å— / Contributing

æˆ‘ä»¬æ¬¢è¿æ‰€æœ‰å½¢å¼çš„è´¡çŒ®ï¼è¯·æŸ¥çœ‹ [CONTRIBUTING.md](CONTRIBUTING.md) äº†è§£è¯¦ç»†ä¿¡æ¯ã€‚

We welcome all forms of contributions! Please check [CONTRIBUTING.md](CONTRIBUTING.md) for detailed information.

### å¼€å‘æµç¨‹ / Development Process

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/amazing-feature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add amazing feature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/amazing-feature`)
5. åˆ›å»º Pull Request

### ä»£ç è§„èŒƒ / Code Standards

- ä½¿ç”¨ TypeScript è¿›è¡Œç±»å‹å®‰å…¨å¼€å‘
- éµå¾ª ESLint å’Œ Prettier é…ç½®
- ç¼–å†™å•å…ƒæµ‹è¯•ï¼Œä¿æŒ > 90% è¦†ç›–ç‡
- æ‰€æœ‰æ³¨é‡Šä½¿ç”¨ä¸­æ–‡
- éµå¾ªé¡¹ç›®å®ªæ³•åŸåˆ™

## è®¸å¯è¯ / License

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦ç»†ä¿¡æ¯ã€‚

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

## æ”¯æŒ / Support

- **æ–‡æ¡£**: [https://fit3d.dev/docs](https://fit3d.dev/docs)
- **GitHub**: [https://github.com/yiranzai/fit3d](https://github.com/yiranzai/fit3d)
- **é—®é¢˜åé¦ˆ**: [https://github.com/yiranzai/fit3d/issues](https://github.com/yiranzai/fit3d/issues)
- **è®¨è®ºåŒº**: [https://github.com/yiranzai/fit3d/discussions](https://github.com/yiranzai/fit3d/discussions)

## è·¯çº¿å›¾ / Roadmap

### v1.0 (å½“å‰ç‰ˆæœ¬)
- âœ… æ ¸å¿ƒåœ°å›¾é›†æˆ
- âœ… å¤šæ ·åŒ–åœ°å›¾æä¾›å•†æ”¯æŒ
- âœ… ç“¦ç‰‡ç¼“å­˜ç³»ç»Ÿ
- âœ… CLIæ¥å£
- âœ… ä¸­å›½æœ¬åœ°åŒ–æ”¯æŒ

### v2.0 (è®¡åˆ’ä¸­)
- ğŸ”„ Webç•Œé¢
- ğŸ”„ ç§»åŠ¨åº”ç”¨
- ğŸ”„ è‡ªå®šä¹‰æ ·å¼ç¼–è¾‘å™¨
- ğŸ”„ ç¦»çº¿åœ°å›¾æ”¯æŒ

### v3.0 (æœªæ¥ç‰ˆæœ¬)
- ğŸ”„ æ¡Œé¢åº”ç”¨
- ğŸ”„ é«˜çº§åˆ†æåŠŸèƒ½
- ğŸ”„ äº‘åŒæ­¥
- ğŸ”„ ç¤¾åŒºåŠŸèƒ½

## è‡´è°¢ / Acknowledgments

æ„Ÿè°¢æ‰€æœ‰å¼€æºåœ°å›¾æä¾›å•†çš„è´¡çŒ®ï¼Œç‰¹åˆ«æ˜¯ï¼š
- OpenStreetMap ç¤¾åŒº
- CartoDB å›¢é˜Ÿ
- Stamen Design
- Esri
- é«˜å¾·åœ°å›¾
- ç™¾åº¦åœ°å›¾

---

**Fit3D** - è®©æˆ·å¤–è¿åŠ¨æ•°æ®å¯è§†åŒ–æ›´ç®€å•ã€æ›´å¼ºå¤§ï¼

**Fit3D** - Making outdoor sports data visualization simpler and more powerful!